<!DOCTYPE html>
<!-- NOT FOR FINAL USE, JUST A SCRIPT -->
<html>
    <head>
        <script>
            // from a given string, deterministically generates a semi-unique 8-character string
            function hash(password) {
                var msg = password;
                var interim = "";
                var hashed = "";
                
                var i;
                var prev = 0;
                var salt = false;
                for (i = 0; i < msg.length; i++) {
                    var code = msg.charCodeAt(i);
                    interim += code.toString();
                    if (salt) {
                        interim += prev.toString(); // "salt" the string by deterministically adding extra characters
                        salt = false;
                    } else {
                        prev = (prev+code)%10;
                        salt = true;
                    }
                }
                var j;
                for (j = 0; j*2 < interim.length; j++) {
                    var n = interim[2*j] + interim[2*j+1];
                    n += 32;
                    while (n > 126) {
                        n = n%126;
                        n += 32;
                    }
                    var c = String.fromCharCode(n);
                    hashed += c;
                }
                var first = hashed.slice(0, 4);
                var second = hashed.slice(-5, -1);
                return first.concat(second);
            }
            
            function checkLogin() {
                
            }
            
            function myFunction() {
                var password = document.getElementById("password").value;
                var res = hash(password);
                document.getElementById("textarea").innerHTML = res;
            }
        </script>
    </head>
    <body>
        <form>
            <input type="text" id="uname" name="uname" placeholder="Username" style="font-family: Courier New, monospace; font-size: .75em">
			</br>
            </br>
			<input type="password" id="password" name="password" placeholder="Password" style="font-family: Courier New, monospace; font-size: .75em">
			</br>
            </br>
            <input type="submit" value="Submit" style="font-family: Courier New, monospace; font-size: .75em;">
            </br>
            </br>
        </form>
        
        <button onclick="myFunction()">Click here</button><br/>
        
        <p id="textarea">Placeholder text</p>
    </body>
</html>